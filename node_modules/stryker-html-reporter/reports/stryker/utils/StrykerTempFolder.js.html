<html>
<head>
    <title>StrykerTempFolder.js - Stryker report</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="../highlightjs/styles/default.css">
    <link rel="stylesheet" href="../stryker.css">
</head>

<body>  
    <img class="stryker-image" alt="Stryker" src="../stryker-80x80.png">

    <div class="container-fluid">
        <h1>StrykerTempFolder.js - Stryker report</h1><div class="col-md-12">
    <h2>Summary</h2>
    <div class="row">
        <div class="col-xs-11">
            <table class="table table-hover table-bordered table-no-top">
                <thead>
                    <tr>
                        <th style="width: 20%"><div><span>File</span></div></th>
                        <th colspan="2"><div><span>Mutation score</span></div></th>
                        <th class="rotate text-center" style="width: 50px"><div><span># Killed</span></div></th>
                        <th class="rotate text-center" style="width: 50px"><div><span># Survived</span></div></th>
                        <th class="rotate text-center" style="width: 50px"><div><span># Timeout</span></div></th>
                        <th class="rotate text-center" style="width: 50px"><div><span># No coverage</span></div></th>
                        <th class="rotate text-center" style="width: 50px"><div><span># Errors</span></div></th>
                        <th class="rotate rotate-width-70 text-center" style="width: 70px"><div><span>Total detected</span></div></th>
                        <th class="rotate rotate-width-70 text-center" style="width: 70px"><div><span>Total undetected</span></div></th>
                        <th class="rotate rotate-width-70 text-center" style="width: 70px"><div><span>Total mutants</span></div></th>
                    </tr>
                </thead>                <tbody>
                    <tr>
                        <td><a href="StrykerTempFolder.js.html">StrykerTempFolder.js</a></td>
                        <td>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" aria-valuenow="3" aria-valuemin="0" aria-valuemax="100"
                                    style="width: 3%;">
                                    3%
                                </div>
                            </div>
                        </td>
                        <th class="text-center" style="width: 10%">1/28</th>
                        <td class="text-center">1</td>
                        <td class="text-center">12</td>
                        <td class="text-center">0</td>
                        <td class="text-center">15</td>
                        <td class="text-center">0</td>
                        <th class="text-center">1</th>
                        <th class="text-center">27</th>
                        <th class="text-center">28</th>
                    </tr>                </tbody>
            </table>
        </div>
    </div>
    <h2>Code</h2>
    <div class="row">
        <div class="col-sm-6">
           <a href="#" class="stryker-collapse-expand-all">Expand all</a>
        </div>
        <div class="col-sm-offset-2 col-sm-4">
            <label>
                <input class="stryker-display-killed" type="checkbox"> Also show killed mutants
            </label>
        </div>
    </div>
    <pre><code class="lang-javascript"><span class="bg-null">&quot;use strict&quot;;
var fs &#x3D; require(&#x27;fs&#x27;);
var path &#x3D; require(&#x27;path&#x27;);
var mkdirp &#x3D; require(&#x27;mkdirp&#x27;);
var fileUtils &#x3D; require(&#x27;./fileUtils&#x27;);
var log4js &#x3D; require(&#x27;log4js&#x27;);
var log &#x3D; log4js.getLogger(&#x27;fileUtils&#x27;);
var baseTempFolder &#x3D; path.join(process.cwd(), &#x27;.stryker-tmp&#x27;);
var tempFolder &#x3D; path.join(baseTempFolder, random().toString());
ensureFolderExists(baseTempFolder);
ensureFolderExists(tempFolder);
/**
 * Creates a new random folder with the specified prefix.
 * @param prefix The prefix.
 * @returns The path to the folder.
 */
function createRandomFolder(prefix) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="0"><span class="label label-danger">0</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="0">{
}</span><span class="stryker-original-code" data-mutant="0"><span class="bg-danger">{
    return ensureFolderExists(</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="1"><span class="label label-danger">1</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="1">tempFolder + path.sep + prefix - random()</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="2"><span class="label label-danger">2</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="2">tempFolder + path.sep - prefix</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="3"><span class="label label-danger">3</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="3">tempFolder - path.sep</span><span class="stryker-original-code" data-mutant="1"><span class="stryker-original-code" data-mutant="2"><span class="stryker-original-code" data-mutant="3"><span class="bg-danger">tempFolder + path.sep</span></span><span class="bg-danger"> + prefix</span></span><span class="bg-danger"> + random()</span></span><span class="bg-danger">);
}</span></span><span class="bg-null">
/**
 * Creates a random integer number.
 * @returns A random integer.
 */
function random() </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="success" data-mutant="4"><span class="label label-success">4</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="4">{
}</span><span class="stryker-original-code" data-mutant="4"><span class="bg-success">{
    return Math.ceil(</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="5"><span class="label label-danger">5</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="5">Math.random() / 10000000</span><span class="stryker-original-code" data-mutant="5"><span class="bg-danger">Math.random() * 10000000</span></span><span class="bg-success">);
}</span></span><span class="bg-null">
/**
 * Creates a folder at the specified path if it doesn&#x27;t already exist.
 * @param path The path to check.
 * @returns The path of the folder.
 */
function ensureFolderExists(path) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="6"><span class="label label-danger">6</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="6">{
}</span><span class="stryker-original-code" data-mutant="6"><span class="bg-danger">{
    if (</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="7"><span class="label label-danger">7</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="7">true</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="8"><span class="label label-danger">8</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="8">false</span><span class="stryker-original-code" data-mutant="7"><span class="stryker-original-code" data-mutant="8"><span class="bg-danger">!fileOrFolderExists(path)</span></span></span><span class="bg-danger">) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="9"><span class="label label-danger">9</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="9">{
}</span><span class="stryker-original-code" data-mutant="9"><span class="bg-danger">{
        mkdirp.sync(path);
    }</span></span><span class="bg-danger">
    return path;
}</span></span><span class="bg-null">
/**
 * Checks if a file or folder exists.
 * @param path The path to the file or folder.
 * @returns True if the file exists.
 */
function fileOrFolderExists(path) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="10"><span class="label label-danger">10</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="10">{
}</span><span class="stryker-original-code" data-mutant="10"><span class="bg-danger">{
    try </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="11"><span class="label label-danger">11</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="11">{
}</span><span class="stryker-original-code" data-mutant="11"><span class="bg-danger">{
        fs.lstatSync(path);
        return true;
    }</span></span><span class="bg-danger">
    catch (error) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="12"><span class="label label-danger">12</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="12">{
}</span><span class="stryker-original-code" data-mutant="12"><span class="bg-danger">{
        return false;
    }</span></span><span class="bg-danger">
}</span></span><span class="bg-null">
/**
 * Writes data to a specified file.
 * @param filename The path to the file.
 * @param data The content of the file.
 * @returns A promise to eventually save the file.
 */
function writeFile(filename, data) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="13"><span class="label label-danger">13</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="13">{
}</span><span class="stryker-original-code" data-mutant="13"><span class="bg-danger">{
    return new Promise(function (resolve, reject) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="14"><span class="label label-danger">14</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="14">{
}</span><span class="stryker-original-code" data-mutant="14"><span class="bg-danger">{
        fs.writeFile(filename, data, { encoding: &#x27;utf8&#x27; }, function (error) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="15"><span class="label label-danger">15</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="15">{
}</span><span class="stryker-original-code" data-mutant="15"><span class="bg-danger">{
            if (</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="16"><span class="label label-danger">16</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="16">false</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="17"><span class="label label-danger">17</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="17">true</span><span class="stryker-original-code" data-mutant="16"><span class="stryker-original-code" data-mutant="17"><span class="bg-danger">error</span></span></span><span class="bg-danger">) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="18"><span class="label label-danger">18</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="18">{
}</span><span class="stryker-original-code" data-mutant="18"><span class="bg-danger">{
                reject(error);
            }</span></span><span class="bg-danger">
            else </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="19"><span class="label label-danger">19</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="19">{
}</span><span class="stryker-original-code" data-mutant="19"><span class="bg-danger">{
                resolve();
            }</span></span><span class="bg-danger">
        }</span></span><span class="bg-danger">);
    }</span></span><span class="bg-danger">);
}</span></span><span class="bg-null">
/**
 * Copies a file.
 * @param fromFilename The path to the existing file.
 * @param toFilename The path to copy the file to.
 * @param instrumenter An optional additional intrumenter to stream the file through
 * @returns A promise to eventually copy the file.
 */
function copyFile(fromFilename, toFilename, instrumenter) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="20"><span class="label label-danger">20</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="20">{
}</span><span class="stryker-original-code" data-mutant="20"><span class="bg-danger">{
    return new Promise(function (resolve, reject) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="21"><span class="label label-danger">21</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="21">{
}</span><span class="stryker-original-code" data-mutant="21"><span class="bg-danger">{
        var readStream &#x3D; fs.createReadStream(fromFilename, { encoding: &#x27;utf8&#x27; });
        var writeStream &#x3D; fs.createWriteStream(toFilename, { encoding: &#x27;utf8&#x27; });
        readStream.on(&#x27;error&#x27;, reject);
        writeStream.on(&#x27;error&#x27;, reject);
        if (</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="22"><span class="label label-danger">22</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="22">false</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="23"><span class="label label-danger">23</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="23">true</span><span class="stryker-original-code" data-mutant="22"><span class="stryker-original-code" data-mutant="23"><span class="bg-danger">instrumenter</span></span></span><span class="bg-danger">) </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="24"><span class="label label-danger">24</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="24">{
}</span><span class="stryker-original-code" data-mutant="24"><span class="bg-danger">{
            readStream &#x3D; readStream.pipe(instrumenter);
        }</span></span><span class="bg-danger">
        readStream.pipe(writeStream);
        readStream.on(&#x27;end&#x27;, function () </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="25"><span class="label label-danger">25</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="25">{
}</span><span class="stryker-original-code" data-mutant="25"><span class="bg-danger">{ return resolve(); }</span></span><span class="bg-danger">);
    }</span></span><span class="bg-danger">);
}</span></span><span class="bg-null">
/**
 * Deletes the Stryker-temp folder
 */
function clean() </span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="26"><span class="label label-danger">26</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="26">{
}</span><span class="stryker-original-code" data-mutant="26"><span class="bg-danger">{
    log.debug(</span><a href="#" class="stryker-mutant-button" data-mutant-status-annotation="danger" data-mutant="27"><span class="label label-danger">27</span></a><span class="label label-info stryker-mutant-replacement" hidden data-mutant="27">&#x27;Cleaning stryker temp folder &#x27; - baseTempFolder</span><span class="stryker-original-code" data-mutant="27"><span class="bg-danger">&quot;Cleaning stryker temp folder &quot; + baseTempFolder</span></span><span class="bg-danger">);
    return fileUtils.deleteDir(baseTempFolder);
}</span></span><span class="bg-null">
Object.defineProperty(exports, &quot;__esModule&quot;, { value: true });
exports.default &#x3D; {
    createRandomFolder: createRandomFolder,
    writeFile: writeFile,
    copyFile: copyFile,
    ensureFolderExists: ensureFolderExists,
    clean: clean
};
//# sourceMappingURL&#x3D;StrykerTempFolder.js.ma</span>p</code></pre>
</div><footer>
    Generated with stryker-html-reporter generator. Visit the <a href="http://stryker-mutator.github.io" target="_blank">Stryker website</a></footer>
</div>
<script src="../stryker.js" defer></script>
</body>
</html>